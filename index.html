</div>
                    </div>
                    
                    <button
                        onClick={exportToCSV}
                        className="w-full py-4 rounded-xl text-white font-semibold text-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2"
                        style={{ backgroundColor: '#2e4f82' }}
                    >
                        <Download className="w-5 h-5" />
                        Ë©≥Á¥∞„Éá„Éº„Çø„ÇíCSV„Åß„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
                    </button>
                    
                    <button
                        onClick={() => setShowAdmin(false)}
                        className="w-full py-4 rounded-xl border-2 font-semibold text-lg hover:bg-gray-50 transition-colors"
                        style={{ borderColor: '#2e4f82', color: '#2e4f82' }}
                    >
                        Ë®∫Êñ≠„Å´Êàª„Çã
                    </button>
                </div>
            );
        };

        const currentQuestion = step < 4 ? questions[step] : null;
        const recommendation = step === 4 ? getRecommendation() : null;

        return (
            <div className="min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-4">
                <div className="w-full max-w-2xl">
                    {showAdmin ? (
                        <div className="animate-fade-in">
                            {!isAuthenticated ? (
                                <div className="bg-white rounded-3xl shadow-xl p-8 md:p-12 max-w-md mx-auto">
                                    <div className="text-center mb-8">
                                        <div 
                                            className="w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6"
                                            style={{ backgroundColor: '#2e4f82' }}
                                        >
                                            <BarChart3 className="w-10 h-10 text-white" />
                                        </div>
                                        <h2 className="text-3xl font-bold mb-2" style={{ color: '#2e4f82' }}>
                                            ÁÆ°ÁêÜËÄÖ„É≠„Ç∞„Ç§„É≥
                                        </h2>
                                        <p className="text-gray-600">
                                            „Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ
                                        </p>
                                    </div>
                                    
                                    <form onSubmit={(e) => e.preventDefault()}>
                                        <input
                                            type="password"
                                            value={passwordInput}
                                            onChange={(e) => setPasswordInput(e.target.value)}
                                            onKeyPress={handlePasswordKeyPress}
                                            placeholder="„Éë„Çπ„ÉØ„Éº„Éâ"
                                            className="w-full px-4 py-3 border-2 rounded-xl mb-4 text-lg focus:outline-none focus:border-opacity-50"
                                            style={{ borderColor: passwordError ? '#ef4444' : '#e5e7eb' }}
                                            autoFocus
                                        />
                                        
                                        {passwordError && (
                                            <p className="text-red-500 text-sm mb-4">{passwordError}</p>
                                        )}
                                        
                                        <button
                                            type="button"
                                            onClick={handlePasswordSubmit}
                                            className="w-full py-4 rounded-xl text-white font-semibold text-lg hover:opacity-90 transition-opacity"
                                            style={{ backgroundColor: '#2e4f82' }}
                                        >
                                            „É≠„Ç∞„Ç§„É≥
                                        </button>
                                        
                                        <button
                                            type="button"
                                            onClick={() => setShowAdmin(false)}
                                            className="w-full mt-3 py-4 rounded-xl border-2 font-semibold text-lg hover:bg-gray-50 transition-colors"
                                            style={{ borderColor: '#2e4f82', color: '#2e4f82' }}
                                        >
                                            Ë®∫Êñ≠„Å´Êàª„Çã
                                        </button>
                                    </form>
                                </div>
                            ) : (
                                <>
                                    <h1 className="text-4xl font-bold mb-8" style={{ color: '#2e4f82' }}>
                                        üìä ÁÆ°ÁêÜËÄÖ„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ
                                    </h1>
                                    <AdminDashboard />
                                </>
                            )}
                        </div>
                    ) : (
                        <>
                            <div className="mb-8">
                                <div className="h-1 bg-gray-200 rounded-full overflow-hidden">
                                    <div 
                                        className="h-full transition-all duration-500 ease-out"
                                        style={{
                                            width: `${(step / 4) * 100}%`,
                                            backgroundColor: '#2e4f82'
                                        }}
                                    />
                                </div>
                            </div>

                            {step === 0 && (
                                <div className="animate-fade-in mb-10">
                                    <h1 className="text-3xl md:text-4xl font-bold mb-6 text-center" style={{ color: '#2e4f82' }}>
                                        YURASÊó•Êú¨„Éè„Éº„Éñ„ÉÜ„Ç£„ÉºË®∫Êñ≠
                                    </h1>
                                    
                                    <div className="mb-10 p-6 bg-white rounded-2xl shadow-sm">
                                        <p className="text-gray-800 leading-relaxed mb-4">
                                            YURAS„ÅÆÊó•Â∏∏„Å´ÂØÑ„ÇäÊ∑ª„ÅÜ„ÅäËå∂Ë®∫Êñ≠„Å∏„Çà„ÅÜ„Åì„ÅùÔºÅ<br />
                                            „ÅÑ„Åæ„ÅÆ„ÅÇ„Å™„Åü„Å´„ÅÇ„ÅÜ„Éñ„É¨„É≥„Éâ„ÉÜ„Ç£„Éº„Çí„ÅÑ„Åè„Å§„Åã„ÅÆË≥™Âïè„Åã„Çâ„ÅîÊèêÊ°à„Åó„Åæ„Åô„ÄÇ
                                        </p>
                                        <p className="text-gray-700 mb-4">
                                            <span className="font-semibold" style={{ color: '#d7a62b' }}>ÊâÄË¶ÅÊôÇÈñì„ÅØÁ¥Ñ1„Äú2ÂàÜ„ÄÇ</span>
                                        </p>
                                        <p className="text-sm text-gray-600 leading-relaxed">
                                            ‚Äª„É≠„Ç∞„Ç§„É≥‰∏çË¶Å„Åß„ÅîÂà©Áî®„ÅÑ„Åü„Å†„Åë„Åæ„Åô„ÄÇÂõûÁ≠î„Éá„Éº„Çø„ÅØÂåøÂêç„ÅßÁµ±Ë®àÁõÆÁöÑ„Å´„ÅÆ„Åø‰ΩøÁî®„Åï„Çå„Åæ„Åô„ÄÇ
                                        </p>
                                    </div>
                                </div>
                            )}

                            {currentQuestion && (
                                <div className="animate-fade-in">
                                    {step > 0 && (
                                        <button
                                            onClick={() => setStep(step - 1)}
                                            className="mb-6 text-gray-600 hover:text-gray-800 flex items-center gap-2 transition-colors"
                                        >
                                            ‚Üê Êàª„Çã
                                        </button>
                                    )}
                                    <h2 className="text-3xl md:text-4xl font-bold mb-3" style={{ color: '#2e4f82' }}>
                                        {currentQuestion.title}
                                    </h2>
                                    <p className="text-gray-600 mb-8 text-base">
                                        {currentQuestion.subtitle}
                                    </p>
                                    <div className="space-y-4">
                                        {currentQuestion.options.map((option) => (
                                            <button
                                                key={option.value}
                                                onClick={() => handleAnswer(currentQuestion.id, option.value, option.result)}
                                                className="w-full p-6 bg-white rounded-2xl shadow-sm hover:shadow-lg transition-all duration-300 flex items-center justify-between group border-2 border-transparent hover-border-gold"
                                            >
                                                <div className="flex items-center gap-4">
                                                    <div 
                                                        className="w-12 h-12 rounded-full flex items-center justify-center text-2xl"
                                                        style={{ backgroundColor: '#f0f4f8' }}
                                                    >
                                                        {option.emoji}
                                                    </div>
                                                    <span className="text-xl font-medium text-gray-800">
                                                        {option.label}
                                                    </span>
                                                </div>
                                                <ChevronRight 
                                                    className="w-6 h-6 transition-transform group-hover:translate-x-1"
                                                    style={{ color: '#d7a62b' }}
                                                />
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            )}

                            {step === 4 && recommendation && (
                                <div className="animate-fade-in">
                                    <div className="bg-white rounded-3xl shadow-xl p-8 md:p-12">
                                        <div className="text-center mb-8">
                                            <div 
                                                className="w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6"
                                                style={{ backgroundColor: '#d7a62b' }}
                                            >
                                                <Coffee className="w-10 h-10 text-white" />
                                            </div>
                                            <h2 className="text-3xl md:text-4xl font-bold mb-2" style={{ color: '#2e4f82' }}>
                                                {recommendation.name}
                                            </h2>
                                            <p className="text-lg font-medium mb-4" style={{ color: '#d7a62b' }}>
                                                {recommendation.subtitle}
                                            </p>
                                            <p className="text-gray-600 text-lg leading-relaxed">
                                                {recommendation.description}
                                            </p>
                                        </div>

                                        <div className="mb-8">
                                            <h3 className="text-xl font-semibold mb-4" style={{ color: '#2e4f82' }}>
                                                „Éñ„É¨„É≥„ÉâÂÜÖÂÆπ
                                            </h3>
                                            <div className="flex flex-wrap gap-2">
                                                {recommendation.blend.map((ingredient, index) => (
                                                    <span
                                                        key={index}
                                                        className="px-4 py-2 rounded-full text-white font-medium"
                                                        style={{ backgroundColor: '#2e4f82' }}
                                                    >
                                                        {ingredient}
                                                    </span>
                                                ))}
                                            </div>
                                        </div>

                                        <div className="mb-8">
                                            <h3 className="text-xl font-semibold mb-4" style={{ color: '#2e4f82' }}>
                                                ÊúüÂæÖ„Åß„Åç„ÇãÂäπÊûú
                                            </h3>
                                            <div className="space-y-2">
                                                {recommendation.benefits.map((benefit, index) => (
                                                    <div key={index} className="flex items-center gap-3">
                                                        <div 
                                                            className="w-2 h-2 rounded-full"
                                                            style={{ backgroundColor: '#d7a62b' }}
                                                        />
                                                        <span className="text-gray-700">{benefit}</span>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>

                                        <div className="mb-8 p-4 bg-amber-50 rounded-xl">
                                            <p className="text-sm text-gray-700">
                                                <strong>„Åì„Çì„Å™Êñπ„Å´„Åä„Åô„Åô„ÇÅ:</strong> {recommendation.bestFor}
                                            </p>
                                        </div>

                                        
                                            href="https://minne.com/@yurasherb"
                                            target="_blank"
                                            rel="noopener noreferrer"
                                            className="block w-full py-4 rounded-xl text-white font-semibold text-lg text-center hover:opacity-90 transition-opacity mb-3"
                                            style={{ backgroundColor: '#d7a62b' }}
                                        >
                                            „ÅîË≥ºÂÖ•„ÅØ„Åì„Å°„Çâ„Åã„Çâ ‚Üí
                                        </a>

                                        <button
                                            onClick={reset}
                                            className="w-full py-4 rounded-xl text-white font-semibold text-lg hover:opacity-90 transition-opacity"
                                            style={{ backgroundColor: '#2e4f82' }}
                                        >
                                            „ÇÇ„ÅÜ‰∏ÄÂ∫¶Ë®∫Êñ≠„Åô„Çã
                                        </button>
                                    </div>
                                </div>
                            )}
                        </>
                    )}
                </div>

                <style>{`
                    @keyframes fade-in {
                        from {
                            opacity: 0;
                            transform: translateY(10px);
                        }
                        to {
                            opacity: 1;
                            transform: translateY(0);
                        }
                    }
                    .animate-fade-in {
                        animation: fade-in 0.5s ease-out;
                    }
                    .hover-border-gold:hover {
                        border-color: #d7a62b !important;
                    }
                `}</style>
            </div>
        );
    };

    ReactDOM.render(<TeaRecommendation />, document.getElementById('root'));
</script>